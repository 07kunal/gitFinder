{"ast":null,"code":"import _slicedToArray from\"D:/react-tutorial/React-tutorial/App-4/git-finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"D:/react-tutorial/React-tutorial/App-4/git-finder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\react-tutorial\\\\React-tutorial\\\\App-4\\\\git-finder\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";// setting up the url/context\nvar GITHUB_URL=process.env.REACT_APP_GITHUB_URL;var GITHUB_TOKEN=process.env.REACT_APP_GITHUB_TOKEN;// created the instance for the axios .. \nvar github=axios.create({baseURL:GITHUB_URL,headers:{Authorization:\"token \".concat(GITHUB_TOKEN)}});// Get the search result from the end-point of api \nexport var searchUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(text){var params,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// params as an object to search for the specific search item\nparams=new URLSearchParams({q:text});//in axios we don't need to convert fetch data into json typ\n_context.next=3;return github.get(\"/search/users?\".concat(params));case 3:response=_context.sent;return _context.abrupt(\"return\",response.data.items);case 5:case\"end\":return _context.stop();}}},_callee);}));return function searchUsers(_x){return _ref.apply(this,arguments);};}();// Get user and repos\nexport var getUserAndRepos=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(login){var _yield$Promise$all,_yield$Promise$all2,user,repos;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Promise.all([// array of request can be here\ngithub.get(\"/users/\".concat(login)),github.get(\"/users/\".concat(login,\"/repos\"))]);case 2:_yield$Promise$all=_context2.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,2);user=_yield$Promise$all2[0];repos=_yield$Promise$all2[1];return _context2.abrupt(\"return\",{user:user.data,repos:repos.data});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function getUserAndRepos(_x2){return _ref2.apply(this,arguments);};}();","map":{"version":3,"names":["axios","GITHUB_URL","process","env","REACT_APP_GITHUB_URL","GITHUB_TOKEN","REACT_APP_GITHUB_TOKEN","github","create","baseURL","headers","Authorization","searchUsers","text","params","URLSearchParams","q","get","response","data","items","getUserAndRepos","login","Promise","all","user","repos"],"sources":["D:/react-tutorial/React-tutorial/App-4/git-finder/src/context/github/GithubAction.js"],"sourcesContent":["import axios from \"axios\"\r\n// setting up the url/context\r\n\r\nconst GITHUB_URL = process.env.REACT_APP_GITHUB_URL\r\nconst GITHUB_TOKEN = process.env.REACT_APP_GITHUB_TOKEN\r\n\r\n\r\n// created the instance for the axios .. \r\nconst github = axios.create({\r\n    baseURL: GITHUB_URL,\r\n    headers: { Authorization: `token ${GITHUB_TOKEN}` }\r\n})\r\n\r\n// Get the search result from the end-point of api \r\nexport const searchUsers = async (text) => {\r\n\r\n\r\n    // params as an object to search for the specific search item\r\n    const params = new URLSearchParams({\r\n        q: text\r\n    })\r\n\r\n    //in axios we don't need to convert fetch data into json typ\r\n    const response = await github.get(`/search/users?${params}`)\r\n    return response.data.items\r\n\r\n\r\n\r\n}\r\n// Get user and repos\r\nexport const getUserAndRepos = async (login) => {\r\n    //making two request we can use the promise.all (cause we need all getUser and getUserRepos)\r\n    const [user, repos] = await Promise.all([\r\n        // array of request can be here\r\n        github.get(`/users/${login}`),\r\n        github.get(`/users/${login}/repos`)\r\n    ])\r\n    return { user:user.data , repos: repos.data }\r\n}"],"mappings":"iaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA;AAEA,GAAMC,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAR,CAAYC,oBAA/B,CACA,GAAMC,CAAAA,YAAY,CAAGH,OAAO,CAACC,GAAR,CAAYG,sBAAjC,CAGA;AACA,GAAMC,CAAAA,MAAM,CAAGP,KAAK,CAACQ,MAAN,CAAa,CACxBC,OAAO,CAAER,UADe,CAExBS,OAAO,CAAE,CAAEC,aAAa,iBAAWN,YAAX,CAAf,CAFe,CAAb,CAAf,CAKA;AACA,MAAO,IAAMO,CAAAA,WAAW,0FAAG,iBAAOC,IAAP,sIAGvB;AACMC,MAJiB,CAIR,GAAIC,CAAAA,eAAJ,CAAoB,CAC/BC,CAAC,CAAEH,IAD4B,CAApB,CAJQ,CAQvB;AARuB,sBASAN,CAAAA,MAAM,CAACU,GAAP,yBAA4BH,MAA5B,EATA,QASjBI,QATiB,+CAUhBA,QAAQ,CAACC,IAAT,CAAcC,KAVE,wDAAH,kBAAXR,CAAAA,WAAW,4CAAjB,CAeP;AACA,MAAO,IAAMS,CAAAA,eAAe,2FAAG,kBAAOC,KAAP,mMAECC,CAAAA,OAAO,CAACC,GAAR,CAAY,CACpC;AACAjB,MAAM,CAACU,GAAP,kBAAqBK,KAArB,EAFoC,CAGpCf,MAAM,CAACU,GAAP,kBAAqBK,KAArB,WAHoC,CAAZ,CAFD,mGAEpBG,IAFoB,wBAEdC,KAFc,yDAOpB,CAAED,IAAI,CAACA,IAAI,CAACN,IAAZ,CAAmBO,KAAK,CAAEA,KAAK,CAACP,IAAhC,CAPoB,0DAAH,kBAAfE,CAAAA,eAAe,8CAArB"},"metadata":{},"sourceType":"module"}