{"ast":null,"code":"import _asyncToGenerator from\"D:/react-tutorial/React-tutorial/App-4/git-finder/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/react-tutorial/React-tutorial/App-4/git-finder/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\react-tutorial\\\\React-tutorial\\\\App-4\\\\git-finder\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React from'react';import{useState,useContext}from'react';import GithubContext from'../../context/github/GithubContext';import AlertContext from'../../context/alert/AlertContext';import{searchUsers}from'../../context/github/GithubAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserSearch(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useContext=useContext(GithubContext),users=_useContext.users,dispatch=_useContext.dispatch;// alert\nvar _useContext2=useContext(AlertContext),setAlert=_useContext2.setAlert;var handleChange=function handleChange(e){return setText(e.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _users;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(text===\"\")){_context.next=5;break;}setAlert(\"please enter something\",\"error\");_context.next=11;break;case 5:dispatch({type:'SET_LOADING'});// @todo- search users\n_context.next=8;return searchUsers(text);case 8:_users=_context.sent;dispatch({type:'GET_USERS',payload:_users});setText('');case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// clearing the user/set into the empty array\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols2 lg:grid-cols-2 md:grid-cols-2 mb-8 gap-8\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"div\",{className:\"form-control\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full pr-40 bg-gray-200 input input-lg text-black\",placeholder:\"Search\",value:text,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-0 right-0 rounded-l-none w-36 btn btn-lg\",children:\"Go\"})]})})})}),users.length>0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn  btn-lg\",onClick:function onClick(){return dispatch({type:'CLEAR_USERS'});},children:\"Clear\"})})]});}export default UserSearch;","map":{"version":3,"names":["React","useState","useContext","GithubContext","AlertContext","searchUsers","UserSearch","text","setText","users","dispatch","setAlert","handleChange","e","target","value","handleSubmit","preventDefault","type","payload","length"],"sources":["D:/react-tutorial/React-tutorial/App-4/git-finder/src/components/user/UserSearch.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useContext } from 'react';\r\nimport GithubContext from '../../context/github/GithubContext'\r\nimport AlertContext from '../../context/alert/AlertContext';\r\nimport { searchUsers } from '../../context/github/GithubAction';\r\n\r\n\r\n\r\n\r\n\r\nfunction UserSearch() {\r\n\r\n    const [text, setText] = useState('')\r\n    const { users  ,dispatch } = useContext(GithubContext)\r\n// alert\r\nconst { setAlert} = useContext(AlertContext)\r\n\r\n    const handleChange = (e) => setText(e.target.value)\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if (text === \"\") {\r\n            setAlert(\"please enter something\" , \"error\" )\r\n        } else {\r\n            dispatch({type:'SET_LOADING'})\r\n            // @todo- search users\r\n          const users = await  searchUsers(text)\r\n          dispatch({type:'GET_USERS' , payload:users})\r\n            setText('')\r\n        }\r\n\r\n    }\r\n    // clearing the user/set into the empty array\r\n\r\n   \r\n\r\n    return (\r\n        <div className='grid grid-cols-1 xl:grid-cols2 lg:grid-cols-2 md:grid-cols-2 mb-8 gap-8'>\r\n            <div>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-control\">\r\n                        {/* input */}\r\n                        <div className=\"relative\">\r\n                            <input type=\"text\" className=\"w-full pr-40 bg-gray-200 input input-lg text-black\" placeholder='Search'\r\n                                value={text}\r\n                                onChange={handleChange}\r\n\r\n                            />\r\n                            {/* search button */}\r\n                            <button className=\"absolute top-0 right-0 rounded-l-none w-36 btn btn-lg\">Go</button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            {/* clear button  only show when the user list exits*/}\r\n            {users.length > 0 && (<div>\r\n                <button className=\"btn  btn-lg\" onClick={()=> dispatch({type:'CLEAR_USERS'})}>\r\n                    Clear\r\n                </button>\r\n            </div>)}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserSearch"],"mappings":"iaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,MAAOC,CAAAA,aAAP,KAA0B,oCAA1B,CACA,MAAOC,CAAAA,YAAP,KAAyB,kCAAzB,CACA,OAASC,WAAT,KAA4B,mCAA5B,C,wFAMA,QAASC,CAAAA,UAAT,EAAsB,CAElB,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,gBAA6BN,UAAU,CAACC,aAAD,CAAvC,CAAQM,KAAR,aAAQA,KAAR,CAAgBC,QAAhB,aAAgBA,QAAhB,CACJ;AACA,iBAAoBR,UAAU,CAACE,YAAD,CAA9B,CAAQO,QAAR,cAAQA,QAAR,CAEI,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,QAAOL,CAAAA,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAArB,CACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOH,CAAP,6HACjBA,CAAC,CAACI,cAAF,GADiB,KAEbV,IAAI,GAAK,EAFI,0BAGbI,QAAQ,CAAC,wBAAD,CAA4B,OAA5B,CAAR,CAHa,8BAKbD,QAAQ,CAAC,CAACQ,IAAI,CAAC,aAAN,CAAD,CAAR,CACA;AANa,sBAOMb,CAAAA,WAAW,CAACE,IAAD,CAPjB,QAOTE,MAPS,eAQfC,QAAQ,CAAC,CAACQ,IAAI,CAAC,WAAN,CAAoBC,OAAO,CAACV,MAA5B,CAAD,CAAR,CACED,OAAO,CAAC,EAAD,CAAP,CATa,uDAAH,kBAAZQ,CAAAA,YAAY,4CAAlB,CAaA;AAIA,mBACI,aAAK,SAAS,CAAC,yEAAf,wBACI,kCACI,aAAM,QAAQ,CAAEA,YAAhB,uBACI,YAAK,SAAS,CAAC,cAAf,uBAEI,aAAK,SAAS,CAAC,UAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,oDAA7B,CAAkF,WAAW,CAAC,QAA9F,CACI,KAAK,CAAET,IADX,CAEI,QAAQ,CAAEK,YAFd,EADJ,cAOI,eAAQ,SAAS,CAAC,uDAAlB,gBAPJ,GAFJ,EADJ,EADJ,EADJ,CAkBKH,KAAK,CAACW,MAAN,CAAe,CAAf,eAAqB,kCAClB,eAAQ,SAAS,CAAC,aAAlB,CAAgC,OAAO,CAAE,yBAAKV,CAAAA,QAAQ,CAAC,CAACQ,IAAI,CAAC,aAAN,CAAD,CAAb,EAAzC,mBADkB,EAlB1B,GADJ,CA2BH,CAED,cAAeZ,CAAAA,UAAf"},"metadata":{},"sourceType":"module"}